<?xml version="1.0" encoding="utf-8" ?>
<Defs>
<!--		=============== FloorCoverings ============ 				-->

	<ThingDef Name="BuildingTerrainCoveringBase" ParentName="BuildingBase" Abstract="True">
	  <wipesPlants>false</wipesPlants>
	  <statBases>
			<MaxHitPoints>300</MaxHitPoints>
			<Beauty>0</Beauty>
			<WorkToBuild>110</WorkToBuild>
			<Mass>100</Mass>
			<Flammability>0</Flammability>
	  </statBases>	  
	  <canGenerateDefaultDesignator>true</canGenerateDefaultDesignator>
	  <designationCategory>Floors</designationCategory>
	  <selectable>true</selectable>
	  <neverMultiSelect>true</neverMultiSelect>
	  <passability>Standable</passability>
	  <useHitPoints>true</useHitPoints>
	  <defaultPlacingRot>South</defaultPlacingRot>
	  <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
	  <resourcesFractionWhenDeconstructed>0</resourcesFractionWhenDeconstructed>
	  <tradeability>None</tradeability>
	  <destroyOnDrop>true</destroyOnDrop>
	  <castEdgeShadows>false</castEdgeShadows>
	  <blockLight>false</blockLight>
	  <fillPercent>0</fillPercent>
	  <building>
			<alwaysDeconstructible>true</alwaysDeconstructible>
			<artificialForMeditationPurposes>false</artificialForMeditationPurposes>
			<ai_neverTrashThis>true</ai_neverTrashThis>
			<paintable>true</paintable>
			<isEdifice>false</isEdifice>
	  </building>
	</ThingDef>

	<ThingDef Name="BuildingTerrainCoveringSingleBase" ParentName="BuildingTerrainCoveringBase" Abstract="True">
		<size>(1,1)</size>
		<!--<blocksAltitudes><li>FloorCoverings</li></blocksAltitudes>-->
		<designationCategory>Floors</designationCategory>
		<statBases>
		  <Beauty>1</Beauty>
		</statBases>
	</ThingDef>
			  
<!--  ========= Medium Puzzle Top ======== -->			  
			  
	<ThingDef Name="Rockstep_Medium_Edge" ParentName="BuildingTerrainCoveringSingleBase">
		<defName>Rockstep_Medium_Edge</defName>
		<label>Medium Ledge</label>
		<description>A stone bas relief of morbid imagery for decorating a floor.</description>
		<designationCategory>Floors</designationCategory>
		<uiOrder>2056</uiOrder>
		<placingDraggableDimensions>1</placingDraggableDimensions>
		<graphicData>
			<graphicClass>Graphic_Multi</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(3,3)</drawSize>
			<drawOffsetSouth>(0,0.5,-0.25)</drawOffsetSouth>
			<drawOffset>(0,0.5,-0.25)</drawOffset>
			<linkFlags>
				<li>Custom1</li>
			</linkFlags>
			<texPath>Things/Building/StepCoverings/RockstepThreeEdge</texPath>
		</graphicData>
		<altitudeLayer>Floor</altitudeLayer>
		<blocksAltitudes>
			<li>Floor</li>
		</blocksAltitudes>
		<!--<pathCostIgnoreRepeat>true</pathCostIgnoreRepeat> -->
		<!--<pathCost>10</pathCost> 0,5,10..+3-->
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<building>
			<isFence>true</isFence>
			<paintable>true</paintable>
		</building>
		<stuffCategories>
			<li>Stony</li>
		</stuffCategories>
		<costStuffCount>1</costStuffCount>
		<researchPrerequisites>
		  <li>Stonecutting</li>
		</researchPrerequisites>
	</ThingDef>
	
<!-- Puzzle Medium Height Front -->
	
	<ThingDef Name="Rockstep_Medium_Corner" ParentName="BuildingTerrainCoveringSingleBase">
		<defName>Rockstep_Medium_Corner</defName>
		<label>Medium Ledge Corners</label>
		<description>A stone bas relief of morbid imagery for decorating a floor.</description>
		<designationCategory>Floors</designationCategory>
		<uiOrder>2057</uiOrder>
		<graphicData>
			<graphicClass>Graphic_Multi</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(3,3)</drawSize>
			<drawOffsetSouth>(0,0.5,-0.25)</drawOffsetSouth>
			<drawOffset>(0,0.5,-0.25)</drawOffset>
			<texPath>Things/Building/StepCoverings/RockstepThreeCorner</texPath>
		</graphicData>
		<altitudeLayer>Floor</altitudeLayer>
		<blocksAltitudes>
			<li>Floor</li>
		</blocksAltitudes>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<building>
			<isFence>true</isFence>
			<paintable>true</paintable>
		</building>
		<stuffCategories>
			<li>Stony</li>
		</stuffCategories>
		<costStuffCount>1</costStuffCount>
		<researchPrerequisites>
		  <li>Stonecutting</li>
		</researchPrerequisites>
	</ThingDef>  
	
<!-- ====== Medium 1x1 Single ======= -->

<ThingDef Name="Rockstep_Medium_Single" ParentName="BuildingTerrainCoveringSingleBase">
		<defName>Rockstep_Medium_Single</defName>
		<label>Rockstep Pillar</label>
		<description>Something something elevated platforms</description>
		<uiOrder>2058</uiOrder>
		<placingDraggableDimensions>1</placingDraggableDimensions>
		<statBases>
			<WorkToBuild>0</WorkToBuild>
		</statBases>
		<graphicData>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(3,3)</drawSize>
			<drawOffset>(0,0.5,-0.25)</drawOffset>
			<shaderType>CutoutComplex</shaderType>
			<texPath>Things/Building/StepCoverings/RockstepThreeSingle</texPath>
		</graphicData>
		<altitudeLayer>Floor</altitudeLayer>
		<blocksAltitudes>
			<li>Floor</li>
		</blocksAltitudes>
		<neverMultiSelect>false</neverMultiSelect>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<designationCategory>Floors</designationCategory>
		<building>
			<isFence>true</isFence>
			<paintable>true</paintable>
		</building>
		<!--<stuffCategories><li>Stony</li></stuffCategories>-->
		<costStuffCount>0</costStuffCount>
		<researchPrerequisites>
		  <li>Stonecutting</li>
		</researchPrerequisites>
	</ThingDef>  
	
	
<!-- ========== 1x1 Shader ========= -->

<DesignatorDropdownGroupDef>
    <defName>Rockstep_ShaderLevels</defName>
    <label>Elevation Levels</label>
    <iconSource>Placed</iconSource>
</DesignatorDropdownGroupDef>

<ThingDef Name="Rockstep_Light_Shader" ParentName="BuildingTerrainCoveringSingleBase" Abstract="True">
	<defName>Rockstep_Light_Shader</defName>
		<label>Rockstep Shader</label>
		<uiOrder>2801</uiOrder>
		<designatorDropdown>Rockstep_ShaderLevels</designatorDropdown>
		<placingDraggableDimensions>2</placingDraggableDimensions>
		<rotatable>false</rotatable>
		<statBases>
			<WorkToBuild>0</WorkToBuild>
			<Beauty>0</Beauty> <!-- No free beauty, come back when it costs work / materials -->
		</statBases>
		<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
		<selectable>false</selectable>
		<neverMultiSelect>true</neverMultiSelect>
		<useHitPoints>false</useHitPoints>
		<designationCategory>Floors</designationCategory>
		<building>
			<canPlaceOverWall>true</canPlaceOverWall>
			<isPlaceOverableWall>true</isPlaceOverableWall>
			<isFence>false</isFence>
			<paintable>false</paintable>
		</building>
		<costStuffCount>0</costStuffCount>
		<researchPrerequisites>
		  <li>Stonecutting</li>
		</researchPrerequisites>
</ThingDef>

<ThingDef Name="Rockstep_Medium_Shader" ParentName="Rockstep_Light_Shader" Abstract="True">
		<defName>Rockstep_Medium_Shader</defName>
		<graphicData>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(3,3)</drawSize>
			<drawOffset>(0,-1,0)</drawOffset>
			<shaderType>Transparent</shaderType>
			<texPath>Things/Building/StepCoverings/RockstepThreeSingleShader</texPath>
		</graphicData>
		<terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
</ThingDef>  

<!-- ============== Neither of these works as intended, save for generation or terrain changes?? =============================== -->	
	<!--<ThingDef ParentName="Rockstep_Light_Shader">--> <!-- Level 0 -->
		<!--	<defName>Rockstep_ShaderZ</defName>-->
		<!--	<label>Level ground</label>-->
		<!--	<description>Low, level terrain, just on average for the nearby area.</description>-->
		<!--	<graphicData>-->
		<!--		<graphicClass>Graphic_Single</graphicClass>-->
		<!--		<texPath>Things/Building/StepCoverings/RockstepThreeSingleBlank</texPath>--> <!-- empty texture -->
		<!--	</graphicData>-->
		<!--	<altitudeLayer>FloorCoverings</altitudeLayer>-->
		<!--	<blocksAltitudes>-->
		<!--		<li>FloorCoverings</li> --> <!-- No difference, some steps are very flat -->
		<!--	</blocksAltitudes>-->
	<!--</ThingDef>	-->
	
	<!--<ThingDef ParentName="Rockstep_Medium_Shader">                  Not significant  -->
		<!--<defName>Rockstep_ShaderA</defName>-->
		<!--<label>Elevated ground</label>-->
		<!--<description>A gentle, barely remarkable change to ground height. It's just a little uneven.</description>-->
		<!--<graphicData>-->
		<!--	<color>(110,110,110)</color>-->
		<!--</graphicData>-->
		<!--<terrainAffordanceNeeded>Diggable</terrainAffordanceNeeded>--> 
		<!--<altitudeLayer>FloorCoverings</altitudeLayer>-->
		<!--		<blocksAltitudes>	<li>FloorCoverings</li> </blocksAltitudes>-->
	<!--</ThingDef>-->

<ThingDef ParentName="Rockstep_Medium_Shader">
	<defName>Rockstep_ShaderB</defName>
	<label>Low height</label>
	<description>A short section of rock or earth raising the ground.</description>
	<graphicData>
		<color>(160,160,160)</color>
	</graphicData>
	<altitudeLayer>FloorCoverings</altitudeLayer>
	<blocksAltitudes>
		<li>FloorCoverings</li>
	</blocksAltitudes>
</ThingDef>
  
<ThingDef ParentName="Rockstep_Medium_Shader">
	<defName>Rockstep_ShaderC</defName>
	<label>Elevated height</label>
	<description>A somewhat elevated section of rock or earth raising the ground.</description>
	<graphicData>
		<color>(200,200,200)</color>
	</graphicData>
	<altitudeLayer>FloorCoverings</altitudeLayer>
	<blocksAltitudes>
		<li>FloorCoverings</li>
	</blocksAltitudes>
</ThingDef>
  
  
<ThingDef ParentName="Rockstep_Medium_Shader">
	<defName>Rockstep_ShaderD</defName>
	<label>Full height</label>
	<description>A significantly elevated section of rock or earth raising the ground.</description>
	<graphicData>
		<color>(240,240,240)</color>
	</graphicData>
	<altitudeLayer>FloorCoverings</altitudeLayer>
	<blocksAltitudes>
		<li>FloorCoverings</li>
	</blocksAltitudes>
</ThingDef>

<ThingDef ParentName="Rockstep_Medium_Shader">
	<defName>Rockstep_ShaderF</defName>
	<label>Full height outcrop</label>
	<description>A prominently elevated section of rock raising the ground.</description>
	<graphicData>
		<color>(180,180,240)</color>
	</graphicData>
	<terrainAffordanceNeeded>SmoothableStone</terrainAffordanceNeeded>
	<altitudeLayer>FloorCoverings</altitudeLayer>
	<blocksAltitudes>
		<li>FloorCoverings</li>
	</blocksAltitudes>
</ThingDef>
  
<!-- ================== Shortest Slope Linked ======================= -->  
  
  <!--<ThingDef Name="Simple_Ledge" ParentName="BuildingTerrainCoveringSingleBase">-->
		<!--<defName>Simple_Ledge</defName>-->
		<!--<label>Ledge</label>-->
		<!--<description>A stone bas relief of morbid imagery for decorating a floor.</description>-->
		<!--<graphicData>-->
			<!--<graphicClass>Graphic_Single</graphicClass>-->
			<!--<drawSize>(1,1)</drawSize>-->
			<!--<drawOffsetSouth>(0,0,0)</drawOffsetSouth>-->
			<!--<drawOffsetNorth>(0,0,-0.25)</drawOffsetNorth>-->
			<!--<texPath>Things/Building/StepCoverings/LedgeSimple</texPath>-->
		<!--</graphicData>-->
		<!--<passability>Standable</passability>-->
		
		<!--<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>-->
		<!--<building>-->
			<!--<isFence>true</isFence>-->
			<!--<paintable>true</paintable>-->
		<!--</building>-->
		<!--<stuffCategories>-->
			<!--<li>Stony</li>-->
		<!--</stuffCategories>-->
		<!--<costStuffCount>1</costStuffCount>-->
		<!--<researchPrerequisites>-->
		  <!--<li>Stonecutting</li>-->
		<!--</researchPrerequisites>-->
	<!--</ThingDef>  -->
 
 
 <!-- ========= Medium (Linked Graphics Variant) (100% transparency, TODO make fill shader) ================= -->
 
	<ThingDef Name="Rockstep_Lower_Linked" ParentName="BuildingTerrainCoveringSingleBase">
		<defName>Rockstep_Short_Linked</defName>
		<label>Lower Ledge</label>
		<description>A short section of rock or earth raising the ground.</description>
		<graphicData>
			<texPath>Things/Building/Linked/Rockstep</texPath>
			<graphicClass>Graphic_Appearances</graphicClass>
			<color>(200,200,200)</color>
		<linkType>Asymmetric</linkType>
		<linkFlags>
			<li>Custom1</li>
		</linkFlags>
		<asymmetricLink>
			<linkFlags>
				  <li>Wall</li>
				  <li>Rock</li>
				  <li>Custom2</li>
				  <li>Custom3</li>
			</linkFlags>
		</asymmetricLink>
		</graphicData>
		<uiIconPath>Things/Building/Linked/WallSmooth_MenuIcon</uiIconPath>
		<uiIconPathsStuff>
		  <li>
			<appearance>Planks</appearance>
			<iconPath>Things/Building/Linked/WallPlanks_MenuIcon</iconPath>
		  </li>
		  <li>
			<appearance>Bricks</appearance>
			<iconPath>Things/Building/Linked/WallBricks_MenuIcon</iconPath>
		  </li>
		</uiIconPathsStuff>
		<neverMultiSelect>false</neverMultiSelect>
		<placingDraggableDimensions>2</placingDraggableDimensions>
		<altitudeLayer>Floor</altitudeLayer>
		<blocksAltitudes>
			<li>Floor</li>
		</blocksAltitudes>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<thingClass>Building</thingClass>
		<designationCategory>Floors</designationCategory>
		<clearBuildingArea>true</clearBuildingArea>
		<castEdgeShadows>false</castEdgeShadows>
		<fillPercent>0</fillPercent>
		<building>
			<isFence>true</isFence>
			<isInert>true</isInert>
			<paintable>true</paintable>
		</building>
		<stuffCategories>
			<li>Stony</li>
			<li>Metallic</li>
			<li>Woody</li>
		</stuffCategories>
		<costStuffCount>1</costStuffCount>
		<researchPrerequisites>
		  <li>Stonecutting</li>
		</researchPrerequisites>
	</ThingDef>
	
	
	<ThingDef Name="Rockstep_Upper_Linked" ParentName="BuildingTerrainCoveringSingleBase">
		<defName>Rockstep_Upper_Linked</defName>
		<label>Upper Ledge</label>
		<description>An elevated section of rock or earth raising the ground.</description>
		<graphicData>
			<texPath>Things/Building/Linked/Rockstep</texPath>
			<graphicClass>Graphic_Appearances</graphicClass>
			<color>(240,240,240)</color>
		<linkType>Asymmetric</linkType>
		<linkFlags>
			<li>Custom2</li>
		</linkFlags>
		<asymmetricLink>
			<linkFlags>
				  <li>Wall</li>
				  <li>Rock</li>
			</linkFlags>
		</asymmetricLink>
		</graphicData>
		<uiIconPath>Things/Building/Linked/WallSmooth_MenuIcon</uiIconPath>
		<uiIconPathsStuff>
		  <li>
			<appearance>Planks</appearance>
			<iconPath>Things/Building/Linked/WallPlanks_MenuIcon</iconPath>
		  </li>
		  <li>
			<appearance>Bricks</appearance>
			<iconPath>Things/Building/Linked/WallBricks_MenuIcon</iconPath>
		  </li>
		</uiIconPathsStuff>
		<neverMultiSelect>false</neverMultiSelect>
		<placingDraggableDimensions>2</placingDraggableDimensions>
		<altitudeLayer>Floor</altitudeLayer>
		<blocksAltitudes>
			<li>Floor</li>
		</blocksAltitudes>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<thingClass>Building</thingClass>
		<designationCategory>Floors</designationCategory>
		<clearBuildingArea>true</clearBuildingArea>
		<castEdgeShadows>false</castEdgeShadows>
		<fillPercent>0</fillPercent>
		<building>
			<isFence>true</isFence>
			<isInert>true</isInert>
			<paintable>true</paintable>
		</building>
		<stuffCategories>
			<li>Stony</li>
			<li>Metallic</li>
			<li>Woody</li>
		</stuffCategories>
		<costStuffCount>1</costStuffCount>
		<researchPrerequisites>
		  <li>Stonecutting</li>
		</researchPrerequisites>
	</ThingDef>
	
<!-- ================== Double Height, Under Slope, Linked =================== --> 	
	
	<ThingDef Name="Rockstep_Slope_Linked" ParentName="BuildingTerrainCoveringSingleBase">
		<defName>Rockstep_Slope_Linked</defName>
		<label>Full Slope</label>
		<description>Now Less Janky! Build on medium slopes or edges for double height terrain</description>
		<graphicData>
			<texPath>Things/Building/Linked/Rockstep1</texPath>
			<graphicClass>Graphic_Appearances</graphicClass>
			<color>(230,230,230)</color>
			<linkType>Asymmetric</linkType>
			<linkFlags>
				<li>Custom3</li>
			</linkFlags>
			<asymmetricLink>
				<linkFlags>
						<li>Wall</li>
						<li>Rock</li>
						<li>Custom2</li> <!-- Upper -->
				</linkFlags>
			</asymmetricLink>
			<!--<shadowData></shadowData> is there a way to cast them under invis?? -->
		</graphicData>
		<uiIconPath>Things/Building/Linked/WallSmooth_MenuIcon</uiIconPath>
		<uiIconPathsStuff>
		  <li>
			<appearance>Bricks</appearance>
			<iconPath>Things/Building/Linked/WallBricks_MenuIcon</iconPath>
		  </li>
		  <li>
			<appearance>Planks</appearance>
			<iconPath>Things/Building/Linked/WallPlanks_MenuIcon</iconPath>
		  </li>
		</uiIconPathsStuff>
		<selectable>true</selectable>
		<neverMultiSelect>false</neverMultiSelect>
		<placingDraggableDimensions>2</placingDraggableDimensions>
		<altitudeLayer>FloorEmplacement</altitudeLayer>
		<blocksAltitudes>
			<li>FloorEmplacement</li>
		</blocksAltitudes>
		<passability>PassThroughOnly</passability> <!-- should apply to edges only, need graphics to reflect build intent -->
		<pathCostIgnoreRepeat>false</pathCostIgnoreRepeat>
		<pathCost>10</pathCost> <!--0,5,10..+3-->
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<thingClass>Building</thingClass>
		<designationCategory>Floors</designationCategory>
		<clearBuildingArea>True</clearBuildingArea>
		<castEdgeShadows>true</castEdgeShadows>
		<fillPercent>0</fillPercent>
		<building>
			<isFence>true</isFence>
			<isInert>true</isInert>
			<paintable>true</paintable>
		</building>
		<stuffCategories>
			<li>Metallic</li>
			<li>Stony</li>
			<li>Woody</li>
		</stuffCategories>
		<costStuffCount>1</costStuffCount>
		<researchPrerequisites>
		  <li>Stonecutting</li>
		</researchPrerequisites>
	</ThingDef>
</Defs>
